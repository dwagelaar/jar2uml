<?xml version="1.0" encoding="UTF-8"?>
<project default="javadoc">

	<macrodef name="copyRef">
		<attribute name="dir" default="com.hp.hpl.jena.doc"/>
		<sequential>
			<delete dir="../../@{dir}"/>
			<copy todir="../../">
				<fileset dir="../">
					<include name="@{dir}/**"/>
				</fileset>
			</copy>
		</sequential>
	</macrodef>

	<target name="clean">
		<delete file="../doc.zip"/>
	</target>
	
	<target name="copyRefs">
		<copyRef dir="org.eclipse.emf.doc"/>
		<copyRef dir="org.eclipse.platform.doc.isv"/>
		<copyRef dir="org.eclipse.uml2.doc"/>
	</target>
	
	<target name="javadoc" depends="clean, copyRefs">
		<javadoc 
			access="protected" 
			author="true"
			destdir="../doc/javadoc" 
			nodeprecated="false" 
			nodeprecatedlist="false" 
			noindex="false" 
			nonavbar="false" 
			notree="false" 
			packagenames="
				be.ac.vub.jar2uml,
				be.ac.vub.jar2uml.ui,
				be.ac.vub.jar2uml.ui.logging,
				be.ac.vub.jar2uml.ui.preferences"
			source="1.5" 
			sourcepath="
				../../jar2uml/src" 
			splitindex="true" 
			use="true" 
			version="true">
			<link href="http://java.sun.com/j2se/1.5.0/docs/api/"/>
			<link href="../bcel-docs/apidocs"/>
			<link href="../../../org.eclipse.uml2.doc/references/javadoc"/>
			<link href="../../../org.eclipse.emf.doc/references/javadoc"/>
			<link href="../../../org.eclipse.platform.doc.isv/reference/api"/>
			<classpath>
				<pathelement path="../../jar2uml/bin"/>
				<pathelement path="../../org.apache.bcel"/>
				<fileset dir="${eclipse.home}/plugins">
					<include name="**/org.eclipse.*.jar"/>
					<include name="**/org.junit*/*.jar"/>
				</fileset>
			</classpath>
		</javadoc>
	</target>
	
</project>
